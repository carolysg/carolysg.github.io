<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Projeto - API HG Weather</title>
	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,700" rel="stylesheet">
	<!-- Font Awesome Icons -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<!-- Main CSS -->
	<link href="./assets/css/main2.css" rel="stylesheet"/>
</head>
<body>   
<!--------------------------------------
HEADER
--------------------------------------->
<div class="container">
	<div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
		<div class="h-100 tofront">
			<div class="row justify-content-between">
				<div class="col-md-6 pt-6 pb-6 pr-6 align-self-center">
					<h1>Coleta de dados via API HG Weather utilizando GCP</h1>
					<a small href="https://github.com/carolysg/api-weather/tree/main" target="_blank">Link do repositório do Github</a> <br>
					<a small href="https://hgbrasil.com/status/weather" target="_blank">Link do site da API</a>
				</div>
				<div class="col-md-6 pr-0">
					<img src="images/projeto05.jpg">
				</div>
			</div>
		</div>
	</div>
</div>
<!-- End Header -->
    
<!--------------------------------------
MAIN
--------------------------------------->
<div class="container pt-4 pb-4">
	<div class="row justify-content-center">
		<article class="article-post">
			<div>
				<h2>Sobre o projeto</h2>
			</div>
			<br>
			<p>
				Este projeto foi inteiramente realizado na Google Cloud Plataform (GCP) e consiste das seguintes etapas:
				<ul>
					<li>Coleta de dados do clima da cidade de São Carlos (dados atuais e de previsão) utilizando a API HG Weather.</li>
					<li>Tratamento de dados da camada bronze para a silver.</li>
					<li>Upload dos dados no BigQuery.</li>
				</ul>
			</p>
			<p>
				A arquitetura do projeto é apresentada no fluxograma abaixo:
			</p>
			<img src="images\projetos\05_01.png">
			<p>
				Vale ressaltar que, como o projeto foi realizado de forma totalmente gratuita (utilizando o período de teste de 90 dias da GCP), as cloud functions permaneceram rodando apenas entre o período de 15/10/2023 a 14/01/2024.
			</p>
			<br>
			<br>
			<div>
				<h2>Etapas iniciais</h2>
			</div>
			<br>
			<p>
				O primeiro passo do projeto foi entender o funcionamento da API HG Weather, a qual seria utilizada para coletar os dados do clima da cidade de São Carlos.
				A partir da documentação foi possível verificar que cada cidade possui um código WOEID e que esse tipo de consulta não necessitava de chave da API.
				Foi necessário apenas buscar pela cidade requerida e, então, o link para utilização da API foi gerado automaticamente.
			</p>
			<img src="images\projetos\05_02.png">
			<p>
				Ao fazer uma requisição utilizando o link da API, um JSON é retornado com dois tipos de informações:
				<ul>
					<li>Dados sobre o clima atual: data, horário, temperatura, descrição do tempo, umidade, velocidade do vento, entre outras informações.</li>
					<li>Dados da previsão do tempo dos próximos 9 dias: data, dia da semana, temperaturas máxima e mínima, probabilidade de chuva, entre outras.</li>
				</ul>
			</p>
			<p>
				Um exemplo de arquivo JSON obtido pode ser visualizado neste link: <a small href="https://github.com/carolysg/api-weather/blob/main/sao-carlos-2023-10-15-15-30.json" target="_blank">arquivo.json</a>
			</p>
			<p>
				Dessa forma, após entender o formato dos dados, iniciou-se a etapa de extração.
			</p>
			<br>
			<br>
			<div>
				<h2>Extração e ingestão dos dados</h2>
			</div>
			<br>
			<p>
				A cloud function <code>get_sao_carlos_weather</code>, escrita em Python, foi responsável por fazer a requisição dos dados e salvar o arquivo JSON no bucket <code>dados-api</code> dentro da pasta <code>bronze</code>.
			</p>
			<img src="images\projetos\05_03.png">
		</article>
	</div>
</div>
<!-- End Main -->
    
<!--------------------------------------
FOOTER
--------------------------------------->
<div class="container mt-5">
	<footer class="bg-white border-top p-3 text-muted small">
	<div class="row align-items-center justify-content-between">
		<div>
			<span class="navbar-brand mr-2"><strong>Mundana</strong></span> Copyright &copy;
			<script>document.write(new Date().getFullYear())</script>
			 . All rights reserved.
		</div>
		<div>
			 Made with <a target="_blank" class="text-secondary font-weight-bold" href="https://www.wowthemes.net/mundana-free-html-bootstrap-template/">Mundana Theme</a> by WowThemes.net.
		</div>
	</div>
	</footer>
</div>
<!-- End Footer -->
    
<!--------------------------------------
JAVASCRIPTS
--------------------------------------->
<script src="./assets/js/vendor/jquery.min.js" type="text/javascript"></script>
<script src="./assets/js/vendor/popper.min.js" type="text/javascript"></script>
<script src="./assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
<script src="./assets/js/functions.js" type="text/javascript"></script>
</body>
</html>